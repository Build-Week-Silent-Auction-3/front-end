{"ast":null,"code":"var _jsxFileName = \"/Users/genardivanteajno/Documents/Git Projects/front-end/silent-auction/src/components/AuctionForm.js\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport { AuctionContext } from '../contexts/AuctionContext';\nimport { UserContext } from '../contexts/UserContext';\nimport { axiosWithAuth } from '../utils/axiosWithAuth';\nimport * as moment from 'moment';\nconst nowtime = new Date();\nconst initialAuction = {\n  id: 0,\n  name: \"\",\n  description: \"\",\n  user_id: 0,\n  image_url: \"\",\n  end_datetime: ''\n};\n\nconst AuctionForm = () => {\n  // The Seller form for creating an auction\n  const auctions = useContext(AuctionContext);\n  const user = useContext(UserContext);\n  const [auction, setAuction] = useState(initialAuction);\n  let endtime;\n  useEffect(() => {\n    console.log(auctions.auctionList);\n  });\n\n  const handleChange = e => {\n    setAuction({ ...auction,\n      id: auctions.auctionList.length + 1,\n      user_id: user.currentUser.id,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const setEndTime = hours => {\n    endtime = moment(nowtime).add(hours, 'h').toDate().toISOString();\n    setAuction({ ...auction,\n      end_datetime: endtime\n    });\n  };\n\n  console.log(endtime);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    axiosWithAuth().post('/api/auctions', auction).then(res => {\n      auctions.setAuctionList([...auctions.auctionList, auction]);\n    }).catch(err => console.log(err));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, \"Post your auction\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    onChange: handleChange,\n    placeholder: \"Title\",\n    value: auction.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text-area\",\n    name: \"description\",\n    onChange: handleChange,\n    placeholder: \"description\",\n    value: auction.description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text-area\",\n    name: \"image_url\",\n    onChange: handleChange,\n    placeholder: \"image url\",\n    value: auction.image_url,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"end_datetime\",\n    onChange: setEndTime,\n    placeholder: \"Length of Auction (in hours)\",\n    value: auction.end_datetime,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, \"Submit Auction!\")));\n};\n\nexport default AuctionForm;","map":{"version":3,"sources":["/Users/genardivanteajno/Documents/Git Projects/front-end/silent-auction/src/components/AuctionForm.js"],"names":["React","useState","useEffect","useContext","AuctionContext","UserContext","axiosWithAuth","moment","nowtime","Date","initialAuction","id","name","description","user_id","image_url","end_datetime","AuctionForm","auctions","user","auction","setAuction","endtime","console","log","auctionList","handleChange","e","length","currentUser","target","value","setEndTime","hours","add","toDate","toISOString","handleSubmit","preventDefault","post","then","res","setAuctionList","catch","err"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { AuctionContext } from '../contexts/AuctionContext'\nimport { UserContext } from '../contexts/UserContext';\nimport { axiosWithAuth } from '../utils/axiosWithAuth'\nimport * as moment from 'moment';\n\n\nconst nowtime = new Date();\n\nconst initialAuction = {\n    id: 0,\n    name: \"\",\n    description: \"\",\n    user_id: 0,\n    image_url: \"\",\n    end_datetime: ''\n}\n\n\nconst AuctionForm = () => {\n    // The Seller form for creating an auction\n    const auctions = useContext(AuctionContext);\n    const user = useContext(UserContext)\n    const [auction, setAuction] = useState(initialAuction)\n    let endtime;\n\n    useEffect(() => {\n        console.log(auctions.auctionList)\n    })\n\n    const handleChange = e => {\n        setAuction({\n            ...auction,\n            id: (auctions.auctionList.length + 1),\n            user_id: user.currentUser.id,\n            [e.target.name]: e.target.value\n        })\n    }\n\n\n    const setEndTime = hours => {\n        endtime = moment(nowtime).add(hours, 'h').toDate().toISOString()\n        setAuction({\n            ...auction,\n            end_datetime: endtime\n        })\n    }\n\n    console.log(endtime)\n    const handleSubmit = e => {\n        e.preventDefault();\n        axiosWithAuth()\n            .post('/api/auctions', auction)\n            .then(res => {\n                auctions.setAuctionList([\n                    ...auctions.auctionList,\n                    auction\n                ])\n            })\n            .catch(err => console.log(err))\n    }\n\n    return (\n        <div>\n            <h2>Post your auction</h2>\n            <form onSubmit={handleSubmit}>\n                <input\n                    type='text'\n                    name='name'\n                    onChange={handleChange}\n                    placeholder='Title'\n                    value={auction.name}\n                />\n                <input\n                    type='text-area'\n                    name='description'\n                    onChange={handleChange}\n                    placeholder='description'\n                    value={auction.description}\n                />\n                <input\n                    type='text-area'\n                    name='image_url'\n                    onChange={handleChange}\n                    placeholder='image url'\n                    value={auction.image_url}\n                />\n                <input\n                    type='text'\n                    name='end_datetime'\n                    onChange={setEndTime}\n                    placeholder='Length of Auction (in hours)'\n                    value={auction.end_datetime}\n                />\n            <button>Submit Auction!</button>\n            </form>\n        </div>\n    )\n}\nexport default AuctionForm"]},"metadata":{},"sourceType":"module"}